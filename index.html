<html>
  <head>
      <title>Convert Column to Array using ruby (WASM)</title>
      <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Column to Array</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </nav>

    <div class="mt-4 p-4">
      <div class="row">
        <div class="col-5"><textarea id="inputa" class="form-control" style="height: 240px" placeholder=" "></textarea></div>
        <div class="col-1 text-center d-flex align-items-center justify-content-center"><button id="convert_text" class="btn btn-success">Convert</button></div>
        <div class="col-6"><textarea id="output" class="form-control" style="height: 240px"></textarea></div>
      </div>
    </div>
  </body>
  <script src="/node_modules/ruby-head-wasm-wasi/dist/browser.script.iife.js"></script>
  <link href="/node_modules/bootstrap/dist/js/bootstrap.min.js" rel="stylesheet">

  <script type="text/ruby">
    require "js"
    document = JS.global[:document]
    button = document.getElementById "convert_text"
    input_text  = document.getElementById "input"
    result = document.getElementById "output"
    button.addEventListener "click" do |e|
      luckiness = input_text[:value].to_s
      result[:innerText] = luckiness.split("\n").to_s
    end
  </script>
</html>
